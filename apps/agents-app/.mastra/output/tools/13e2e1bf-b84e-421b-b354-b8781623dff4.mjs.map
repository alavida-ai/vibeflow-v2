{"version":3,"file":"13e2e1bf-b84e-421b-b354-b8781623dff4.mjs","sources":["../../../src/mastra/tools/research/twitter-analyser.ts"],"sourcesContent":["import { createTool } from '@mastra/core/tools';\nimport { TwitterAnalyser } from '@brand-listener/ingestion/tools';\nimport { z } from 'zod';\n\n\nexport const twitterSearcherTool = createTool({\n  id: 'twitter-scraper',\n  description: 'Search for tweets from a user and get info on any media in the tweets',\n  inputSchema: z.object({\n    userName: z.string().describe('Twitter username to analyze'),\n    numTweets: z.number().describe('Number of tweets to analyze'),\n  }),\n  outputSchema: z.object({\n    summary: z.object({\n      username: z.string()\n    })\n  }),\n  execute: async ({ context }) => {\n    try { \n    const twitterAnalyser = new TwitterAnalyser({\n      userName: context.userName,\n      maxPages: context.numTweets / 20\n    });\n    const tweetsForOutput = await twitterAnalyser.run();\n    \n    return {\n      summary: {\n        totalTweets: tweetsForOutput.ingestionResult.totalTweets,\n        username: context.userName\n      }\n    };\n  } catch (error) {\n    throw new Error(`Failed to scrape tweets: ${error instanceof Error ? error.message : String(error)}`);\n  }\n  },\n});"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AAKO,MAAM,sBAAsB,UAAA,CAAW;AAAA,EAC5C,EAAA,EAAI,iBAAA;AAAA,EACJ,WAAA,EAAa,uEAAA;AAAA,EACb,WAAA,EAAa,EAAE,MAAA,CAAO;AAAA,IACpB,QAAA,EAAU,CAAA,CAAE,MAAA,EAAO,CAAE,SAAS,6BAA6B,CAAA;AAAA,IAC3D,SAAA,EAAW,CAAA,CAAE,MAAA,EAAO,CAAE,SAAS,6BAA6B;AAAA,GAC7D,CAAA;AAAA,EACD,YAAA,EAAc,EAAE,MAAA,CAAO;AAAA,IACrB,OAAA,EAAS,EAAE,MAAA,CAAO;AAAA,MAChB,QAAA,EAAU,EAAE,MAAA;AAAO,KACpB;AAAA,GACF,CAAA;AAAA,EACD,OAAA,EAAS,OAAO,EAAE,OAAA,EAAQ,KAAM;AAC9B,IAAA,IAAI;AACJ,MAAA,MAAM,eAAA,GAAkB,IAAI,eAAA,CAAgB;AAAA,QAC1C,UAAU,OAAA,CAAQ,QAAA;AAAA,QAClB,QAAA,EAAU,QAAQ,SAAA,GAAY;AAAA,OAC/B,CAAA;AACD,MAAA,MAAM,eAAA,GAAkB,MAAM,eAAA,CAAgB,GAAA,EAAI;AAElD,MAAA,OAAO;AAAA,QACL,OAAA,EAAS;AAAA,UACP,WAAA,EAAa,gBAAgB,eAAA,CAAgB,WAAA;AAAA,UAC7C,UAAU,OAAA,CAAQ;AAAA;AACpB,OACF;AAAA,IACF,SAAS,KAAA,EAAO;AACd,MAAA,MAAM,IAAI,KAAA,CAAM,CAAA,yBAAA,EAA4B,KAAA,YAAiB,KAAA,GAAQ,MAAM,OAAA,GAAU,MAAA,CAAO,KAAK,CAAC,CAAA,CAAE,CAAA;AAAA,IACtG;AAAA,EACA;AACF,CAAC;;;;"}